<ion-view hide-nav-bar="true"
          ng-app="app.car"
          ng-controller="carCtrl">
    <ion-header-bar class="bar-stable">
        <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>
        <h1 class="title">Cars</h1>
        <button class="button button-icon icon ion-android-add"
                ng-click="showAddCar()"></button>
    </ion-header-bar>
    <ion-content overflow-scroll="true" padding="true" class="has-header">
        <ion-list>
            <ion-item menu-close="" class="card"
                      ng-repeat="(id, car) in cars"
                      ng-click="showCarActionSheet(car)">
                <ion-list class="card">
                    <ion-item class="item-avatar">
                        <img src="mcfly.jpg">
                        <h2>{{car.state}} - {{car.plate}}</h2>
                        <p>{{car.year}}</p>
                        <p>{{car.color}}</p>
                    </ion-item>

                    <ion-item class="item-body">
                        <p>{{car.maker}} - {{car.model}}</p>
                        <p>
                            <a href="#" class="subdued">1 Like</a>
                            <a href="#" class="subdued">5 Comments</a>
                        </p>
                    </ion-item>
                </ion-list>
            </ion-item>
        </ion-list>
    </ion-content>

    <script id="add-car" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-stable">
                <h1 class="title">NEW CAR</h1>
                <button class="button button-icon icon ion-android-close"
                        ng-click="hideAddCar()"></button>
            </ion-header-bar>
            <ion-content overflow-scroll="true" padding="true" class="has-header padding">
                <ion-item ui-sref="menu.payment" menu-close="" class="item-avatar">
                    <img src="venkman.jpg">
                    <h2>Change Photo</h2>
                </ion-item>

                <ion-list>
                    <!-- Plate -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-person placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <input id="addcar-plate" type="text" placeholder="Plate Number"
                               ng-model="selected.plate"/>
                    </ion-item>

                    <!-- Year -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-calendar placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="addcar-year" class="select-egobie"
                                ng-model="selected.year"
                                ng-options="year as year for year in years">
                            <option value="">Choose Year</option>
                        </select>
                    </ion-item>

                    <!-- State -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-map placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="addcar-state" class="select-egobie"
                                ng-model="selected.state"
                                ng-options="state as fullname for (state, fullname) in states">
                            <option value="">Choose State</option>
                        </select>
                    </ion-item>

                    <!-- Maker -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-ios-compose placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="addcar-maker" class="select-egobie"
                                ng-model="selected.maker"
                                ng-options="maker.id as maker.title for maker in makers"
                                ng-change="changeMaker()">
                            <option value="">Choose Maker</option>
                        </select>
                    </ion-item>

                    <!-- Model -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-hammer placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="addcar-model" class="select-egobie"
                                ng-model="selected.model"
                                ng-options="model.id as model.title for model in models">
                            <option value="">Choose Model</option>
                        </select>
                    </ion-item>
            
                    <!-- Color -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-paintbucket placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="addcar-color" class="select-egobie"
                                ng-model="selected.color"
                                ng-options="color as color for color in colors">
                            <option value="">Choose Color</option>
                        </select>
                    </ion-item>
                </ion-list>
                <button class="button button-block button-dark" ng-click="createCar()">Save</button>
            </ion-content>
        </ion-modal-view>
    </script>

    <script id="edit-car" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-stable">
                <h1 class="title">EDIT CAR</h1>
                <button class="button button-icon icon ion-android-close"
                        ng-click="hideEditCar()"></button>
            </ion-header-bar>
            <ion-content overflow-scroll="true" padding="true" class="has-header padding">
                <ion-item ui-sref="menu.payment" menu-close="" class="item-avatar">
                    <img src="venkman.jpg">
                    <h2>Change Photo</h2>
                </ion-item>

                <ion-list>
                    <!-- Plate -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-person placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <input id="editcar-plate" type="text" placeholder="Plate Number"
                               ng-model="selected.plate"/>
                    </ion-item>

                    <!-- Year -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-calendar placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="editcar-year" class="select-egobie"
                                ng-model="selected.year"
                                ng-options="year as year for year in years">
                        </select>
                    </ion-item>

                    <!-- State -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-map placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="editcar-state" class="select-egobie"
                                ng-model="selected.state"
                                ng-options="state as fullname for (state, fullname) in states">
                            <option value="">Choose State</option>
                        </select>
                    </ion-item>

                    <!-- Maker -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-ios-compose placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="editcar-maker" class="select-egobie"
                                ng-model="selected.maker"
                                ng-options="maker.id as maker.title for maker in makers"
                                ng-change="changeMaker()">
                        </select>
                    </ion-item>

                    <!-- Model -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-hammer placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="editcar-model" class="select-egobie"
                                ng-model="selected.model"
                                ng-options="model.id as model.title for model in models">
                            <option value="">Choose Model</option>
                        </select>
                    </ion-item>

                    <!-- Color -->
                    <ion-item class="item-input margin-top-5 item-padding-top-bottom">
                        <i class="icon ion-paintbucket placeholder-icon icon-size-25 i-add-payment-egobie"></i>
                        <select id="editcar-color" class="select-egobie"
                                ng-model="selected.color"
                                ng-options="color as color for color in colors">
                        </select>
                    </ion-item>
                </ion-list>
                <button class="button button-block button-dark" ng-click="editCar()">Save</button>
            </ion-content>
        </ion-modal-view>
    </script>
</ion-view>